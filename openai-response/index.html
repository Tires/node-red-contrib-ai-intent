<script type="text/javascript">
    RED.nodes.registerType("OpenAI Response", {
        category: 'AI Intent',
        color: '#ffeaa7',
        icon:"font-awesome/fa-commenting-o",
        defaults: {
            name: { value: "" },
            keepFormatting: {value: false}
        },
        inputs: 1,
        outputs: 1,

        label: function () {
            return this.name || "OpenAI Response";
        },

        oneditprepare: function(x){
           
        }
    });

</script>

<script type="text/html" data-template-name="OpenAI Response">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>

    <div style="display: flex; justify-content: space-around;">
    
        <label for="node-input-keepFormatting" style="display: flex;">
            <i class="fa fa-tag"></i>
            <span style="margin-left: 5px;">Keep Formatting</span>
            <input style="display: inline-block;margin-left: 1rem;" type="checkbox" id="node-input-keepFormatting"
                name="keep formatting"></label>
    </div>
</script>

<script type="text/html" data-help-name="OpenAI Response">
    <p>Sanitize the response from OpenAI and returns a consistent data interface </p>

    <h3>Details</h3>
    <p>This node must be used directly after the <code>OpenAI Chat</code> node.</p>

    <h4>Keep Formatting</h4>
    By default this node will strip the response from GPT to return a clean string. 
    This is to prevent anomolies caused by how different outputs (for example outputting to
     telegram vs text-to-speech). However, if you would like to keep the formatting GPT returns,
     mark the checkbox.
</script>
